<%- include("./layout/header") %>

<div id="wrapper">
    <%- include("./layout/sidebar") %>

    <div id="content-wrapper" class="d-flex flex-column">
        <%- include("./layout/navbar") %>

        <div class="constiner-fluid se">

        <div class="container my-5">

                
                <!-- Page Header -->
                <div class="mb-4">
                    <h2 class="fw-bold">Event Details</h2>
                    <p class="text-muted">Explore full information about this event</p>
                </div>
                
                <div class="card border-0 shadow-lg rounded-4 overflow-hidden event-card">
                    <div class="row g-0 p-4 align-items-center">
                        
                        <!-- IMAGE -->
                        <div class="col-md-6">
                            <div id="productCarousel" class="carousel slide rounded-4 overflow-hidden image-wrapper" data-bs-ride="carousel">
                                
                                <div class="carousel-inner">
                                    <% data.image.forEach((img, index) => { %>
                                        <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
                                            <img src="<%= img %>" class="w-100 event-img">
                                        </div>
                                        <% }) %>
                                    </div>
                                    
                                    <button class="carousel-control-prev modern-nav invisible-btn" type="button" data-bs-target="#productCarousel" data-bs-slide="prev">
                                        ‚Äπ
                                    </button>
                                    
                                    <button class="carousel-control-next modern-nav invisible-btn" type="button" data-bs-target="#productCarousel" data-bs-slide="next">
                                        ‚Ä∫
                                    </button>
                                </div>
                            </div>
                            
                            <!-- DETAILS -->
                            <div class="col-md-6 ps-md-5 mt-4 mt-md-0">
                                
                                <div class="d-flex align-items-center mb-3 badge-wrapper">
                                    <span class="badge badge-category me-3">
                                        <%= data.category? data.category.name:"N/A" %>
                                    </span>

                                    <span class="badge badge-status 
                                        <%= data.availableTickets === 0 ? 'sold' : 'available' %>">
                                        <%= data.availableTickets === 0 ? 'Sold Out' : 'Available' %>
                                    </span>
                                </div>

                                
                                <h2 class="fw-bold mt-2"><%= data.name %></h2>
                                
                                <p class="text-muted mt-3 fs-6">
                                    <%= data.description %>
                                </p>

                                <div class="row mt-4 g-3">
                            <div class="col-6">
                                <div class="info-box">
                                    <small class="text-muted">üìÖ Date</small>
                                    <p class="fw-semibold mb-0">
                                        <%= new Date(data.date).toDateString() %>
                                    </p>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="info-box">
                                    <small class="text-muted">üìç Location</small>
                                    <p class="fw-semibold mb-0"><%= data.location %></p>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="info-box">
                                    <small class="text-muted">üéü Total Tickets</small>
                                    <p class="fw-semibold mb-0"><%= data.totalTickets %></p>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="info-box">
                                    <small class="text-muted">üé´ Available</small>
                                    <p class="fw-semibold mb-0"><%= data.availableTickets %></p>
                                </div>
                            </div>
                        </div>
                                
                                <!-- PRICE CARD -->
                                <div class="price-box my-4">
                                    <h3 class="fw-bold text-success mb-0">
                                        ‚Çπ<%= data.price %>
                                    </h3>
                                    <!-- <small class="text-muted">per event</small> -->
                                </div>
                                
                                <!-- ACTIONS -->
                                <div class="d-flex gap-3 mt-4">
                                    <a href="/getAllEvent" class="btn btn-light px-4 shadow-sm">
                                        ‚Üê Back
                                    </a>
                                    
                                    
                                </div>
                                
                            </div>
                        </div>
                    </div>
                </div>
        </div>

        <%- include("./layout/footer") %>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
